module.exports = function(grunt) {
  grunt.loadNpmTasks('grunt-contrib-rename');
  grunt.loadNpmTasks('grunt-text-replace');
  grunt.loadNpmTasks('grunt-contrib-less');
  grunt.loadNpmTasks('grunt-csscomb');
  grunt.loadNpmTasks('grunt-contrib-watch');
  grunt.loadNpmTasks('grunt-contrib-compress');

  grunt.initConfig({
    bannerCss:  '/*--------------------------------------------------\n' +
                '--------------------------------------------------\n' +
                '    Core CSS generated by Less\n' +
                '--------------------------------------------------\n' +
                '--------------------------------------------------*/\n',
    less: {
      less_imports: {
        styles: {
            src: ['Assets/css/less/06-others/*.less']
        }
      },
      compileCore: {
        options: {
          paths: ["../Assets/css/less/"],
          banner: '<%= bannerCss %>'
        },
        files: {
          "../Assets/css/unmin/styles.unmin.css": "../Assets/css/less/_core.less"
        },  
      },
      compileMin: {
        options: {
          paths: ["../Assets/css/less/"],
          compress: true,
          banner: '<%= bannerCss %>'
        },
        files: {
          "../Assets/css/prod/styles.min.css": "../Assets/css/less/_core.less"
        },  
      }

    },
    csscomb: {
        dist: {
            options: {
                config: 'cssComb/cssComb.json'
            },
            files: {
                '../Assets/css/unmin/core.css': ['Assets/css/unmin/core.css']
            }
        }
    },
    watch: {
      less: {
        files: '../Assets/css/less/**',
        tasks: 'less:compileMin'
      }
    }
  });
  grunt.registerTask('default', ['less', 'csscomb']);
}